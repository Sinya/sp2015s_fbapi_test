<!DOCTYPE HTML>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>

	<!-- display in open graph -->
	<meta property="og:title" content="Hello Sinya!!" >
	<meta property="og:type" content="Website" >
	<meta property="og:url" content="https://sinya.github.io/sp2015s_fbapi_test/index.html" >
	<meta property="og:image" content="http://p1-news.yamedia.tw/MTg4OTc2NTBuZXdz/737528f3b548c35f.jpg" >

	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Hello, I am hw2  :)</title>
	<link href='http://fonts.googleapis.com/css?family=Nothing+You+Could+Do' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Amarante' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Londrina+Outline' rel='stylesheet' type='text/css'>

	<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.0/jquery.min.js?ver=1.9.0" type="text/javascript"></script>

	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">

	<!-- Optional theme -->
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css">

	<!-- Latest compiled and minified JavaScript -->
	<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>


	<link rel="stylesheet" type="text/css" href="style.css">



</head>

<body>

		<div id="fb-root"></div>
		<script>(function(d, s, id) {
				var js, fjs = d.getElementsByTagName(s)[0];
				if (d.getElementById(id)) return;
				js = d.createElement(s); js.id = id;
				js.src = "//connect.facebook.net/zh_TW/sdk.js#xfbml=1&appId=1598825970349580&version=v2.0";
				fjs.parentNode.insertBefore(js, fjs);
				}(document, 'script', 'facebook-jssdk'));</script>


	<header>
	<figure>
	<img id="peng" src="http://i.imgur.com/4mGQ2gk.png"/>
	<img id="pong" src="http://i.imgur.com/vTeYy1a.png">
	</figure>

	</header>

	<nav class="container">

		<a href="#" class="mine-item">
		<span class="mine-icon-wrap">
		<img id="perry" src="http://i.imgur.com/3o5inFs.png" class="mine-icon">
		</span>
		<h2 class="mine-title">HOME</h2>
		</a>

		<a href="contact.html" class="mine-item">
		<span class="mine-icon-wrap">
		<img id="phineas" src="http://i.imgur.com/RynrAxA.png" class="mine-icon"> 
		</span>
		<h2 class="mine-title">CONTACT</h2>
		</a>

		<a href="contact2.html" class="mine-item">
		<span class="mine-icon-wrap">
		<img id="phineas" src="http://i.imgur.com/RynrAxA.png" class="mine-icon"> 
		</span>
		<h2 class="mine-title">CONTACT</h2>
		</a>

	</nav>

	
		<div class="fb-like" data-href="http://sinya.github.io/sp2015s_fbapi_test/index.html" data-layout="standard" data-action="like" data-show-faces="true" data-share="true"></div>


		<div class="fb-comments" data-href="http://sinya.github.io/sp2015s_fbapi_test/index.html" data-numposts="5"></div>



 	</body>


<script>
	window.fbAsyncInit = function () {
		FB.init({
		appId: '1598825970349580', //api 2.0 nccu web test
		xfbml: true,
		version: 'v2.0'
		});

	FB.getLoginStatus(function (response) {
			if (response.status === 'connected') {

				var uid = response.authResponse.userID;
				var accessToken = response.authResponse.accessToken;
				FB.api('/me', function (response) {
					console.log(response);
					console.log('My links is ' + response.link);
					console.log('My Username is ' + response.username);
					console.log('My ID is ' + response.id);
					});

				FB.api('/me/likes', function (response) {
						for (var i = 0; i < response.data.length; i++){
						console.log(response.data[i].name);
						}
						});

				FB.ui({
					method: 'share',
					href: 'http://sinya.github.io/sp2015s_fbapi_test/index.html',
					}, function (response) {});


				FB.ui({
					method: 'send',
					link: 'http://sinya.github.io/sp2015s_fbapi_test/index.html',
					});


				FB.api('/me/picture?type=normal', function(response) { // normal/large/square 
						var str="<img src="+ response.data.url +">";
						$('body').append(str);
						});


				FB.api('/me/photos', 'post', {
										name:"test",
										message: 'this is parse photo',
										url: "https://media.licdn.com/mpr/mpr/shrink_120_120/p/6/005/038/092/145ffc7.jpg"//如果要init運行只能用絕對絕對路徑
									}, function (response) {
										if (!response || response.error) {
											alert('Error occured:' + response);
											console.log(response);
										} else {
											alert('Post ID: ' + response.id);
										}
									});



			

			} 

			else if (response.status === 'not_authorized') {
		
				console.log("this user is not authorizied your apps");
				FB.login(function (response) {
						// FB.api('/me/feed', 'post', {message: 'I\'m started using FB API'});
						if (response.authResponse) { // if user login to your apps right after handle an event
						window.location.reload();
						};
						}, {
				scope: 'user_about_me,email,user_location,user_photos,publish_actions,user_birthday,user_likes'
				});
				} else {
					console.log("this isn't logged in to Facebook.");
					FB.login(function (response) {
							if (response.authResponse) {
							window.location.reload();
							} else {
							//alertify.alert('An Error has Occurs,Please Reload your Pages');
							}
							});
				}
			});

		}; 

	(function (d, s, id) {
		var js, fjs = d.getElementsByTagName(s)[0];
			if (d.getElementById(id)) {
			return;
		}
		js = d.createElement(s);
		js.id = id;
		js.src = "//connect.facebook.net/en_US/sdk.js";
		fjs.parentNode.insertBefore(js, fjs);
		}
		(document, 'script', 'facebook-jssdk'));
	
	</script>

</html>
