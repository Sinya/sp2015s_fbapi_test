<!DOCTYPE HTML>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>

	<!-- display in open graph -->
	<meta property="og:title" content="Hello Sinya!!" >
	<meta property="og:type" content="Website" >
	<meta property="og:url" content="https://sinya.github.io/sp2015s_fbapi_test/index.html" >
	<meta property="og:image" content="http://p1-news.yamedia.tw/MTg4OTc2NTBuZXdz/737528f3b548c35f.jpg" >

	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Hello, I am hw2  :)</title>
	<link href='http://fonts.googleapis.com/css?family=Nothing+You+Could+Do' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Amarante' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Londrina+Outline' rel='stylesheet' type='text/css'>

	<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.0/jquery.min.js?ver=1.9.0" type="text/javascript"></script>

	<script type="text/javascript">var _jf = _jf || [];_jf.push(['_setAppId','1561033aj0ruUX0A0Nv_aFWjfebapRap3j91sh6paY9xcBAGQjUUWwoTxVRjSAoo23UrQrdxzJptjyvIoXTxnd0ifaOfPstzfXk9a-6jPf8rI6oqufxBfmdWyiu-krtQFMVF25MYeydbvOuRLPCJAKF7MQyRC1N64eo2i9xQ028sFCFthY0=']);_jf.push(['p','27294']);_jf.push(['_setFont','wt011','css','body']);_jf.push(['_setFont','hanamin','css','.menu ul li']);(function(f,q,c,h,e,i,r,d){var k=f._jf;if(k.constructor===Object){return}var l,t=q.getElementsByTagName("html")[0],a=function(u){for(var v in k){if(k[v][0]==u){if(false===k[v][1].call(k)){break}}}},j=/\S+/g,o=/[\t\r\n\f]/g,b=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,g="".trim,s=g&&!g.call("\uFEFF\xA0")?function(u){return u==null?"":g.call(u)}:function(u){return u==null?"":(u+"").replace(b,"")},m=function(y){var w,z,v,u,x=typeof y==="string"&&y;if(x){w=(y||"").match(j)||[];z=t[c]?(" "+t[c]+" ").replace(o," "):" ";if(z){u=0;while((v=w[u++])){if(z.indexOf(" "+v+" ")<0){z+=v+" "}}t[c]=s(z)}}},p=function(y){var w,z,v,u,x=arguments.length===0||typeof y==="string"&&y;if(x){w=(y||"").match(j)||[];z=t[c]?(" "+t[c]+" ").replace(o," "):"";if(z){u=0;while((v=w[u++])){while(z.indexOf(" "+v+" ")>=0){z=z.replace(" "+v+" "," ")}}t[c]=y?s(z):""}}},n;k.push(["_eventActived",function(){p(h);m(e)}]);k.push(["_eventInactived",function(){p(h);m(i)}]);k.addScript=n=function(u,A,w,C,E,B){E=E||function(){};B=B||function(){};var x=q.createElement("script"),z=q.getElementsByTagName("script")[0],v,y=false,D=function(){x.src="";x.onerror=x.onload=x.onreadystatechange=null;x.parentNode.removeChild(x);x=null;a("_eventInactived");B()};if(C){v=setTimeout(function(){D()},C)}x.type=A||"text/javascript";x.async=w;x.onload=x.onreadystatechange=function(G,F){if(!y&&(!x.readyState||/loaded|complete/.test(x.readyState))){y=true;if(C){clearTimeout(v)}x.src="";x.onerror=x.onload=x.onreadystatechange=null;x.parentNode.removeChild(x);x=null;if(!F){setTimeout(function(){E()},200)}}};x.onerror=function(H,G,F){if(C){clearTimeout(v)}D();return true};x.src=u;z.parentNode.insertBefore(x,z)};a("_eventPreload");m(h);n(r,"text/javascript",false,3000)})(this,this.document,"className","jf-loading","jf-active","jf-inactive","//ds.justfont.com/js/stable/v/2.7/id/115053824457");</script>


	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">

	<!-- Optional theme -->
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css">

	<!-- Latest compiled and minified JavaScript -->
	<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>


	<link rel="stylesheet" type="text/css" href="style.css">



</head>

<body>

		<div id="fb-root"></div>
		<script>(function(d, s, id) {
				var js, fjs = d.getElementsByTagName(s)[0];
				if (d.getElementById(id)) return;
				js = d.createElement(s); js.id = id;
				js.src = "//connect.facebook.net/zh_TW/sdk.js#xfbml=1&appId=1598825970349580&version=v2.0";
				fjs.parentNode.insertBefore(js, fjs);
				}(document, 'script', 'facebook-jssdk'));</script>


	<header>
	<figure>
	<img id="peng" src="http://i.imgur.com/4mGQ2gk.png"/>
	<img id="pong" src="http://i.imgur.com/vTeYy1a.png">
	</figure>

	</header>

	<nav class="container">

		<a href="#" class="mine-item">
		<span class="mine-icon-wrap">
		<img id="perry" src="http://i.imgur.com/3o5inFs.png" class="mine-icon">
		</span>
		<h2 class="mine-title">HOME</h2>
		</a>

		<a href="contact.html" class="mine-item">
		<span class="mine-icon-wrap">
		<img id="phineas" src="http://i.imgur.com/RynrAxA.png" class="mine-icon"> 
		</span>
		<h2 class="mine-title">CONTACT</h2>
		</a>

		<a href="contact2.html" class="mine-item">
		<span class="mine-icon-wrap">
		<img id="phineas" src="http://i.imgur.com/RynrAxA.png" class="mine-icon"> 
		</span>
		<h2 class="mine-title">CONTACT2</h2>
		</a>

	</nav>

	
		<div class="fb-like" data-href="http://sinya.github.io/sp2015s_fbapi_test/index.html" data-layout="standard" data-action="like" data-show-faces="true" data-share="true"></div>


		<div class="fb-comments" data-href="http://sinya.github.io/sp2015s_fbapi_test/index.html" data-numposts="5"></div>



 	</body>


<script>
	window.fbAsyncInit = function () {
		FB.init({
		appId: '1598825970349580', //api 2.0 nccu web test
		xfbml: true,
		version: 'v2.0'
		});

	FB.getLoginStatus(function (response) {
			if (response.status === 'connected') {

				var uid = response.authResponse.userID;
				var accessToken = response.authResponse.accessToken;
				FB.api('/me', function (response) {
					console.log(response);
					console.log('My links is ' + response.link);
					console.log('My Username is ' + response.username);
					console.log('My ID is ' + response.id);
					});

				FB.api('/me/likes', function (response) {
						for (var i = 0; i < response.data.length; i++){
						console.log(response.data[i].name);
						}
						});

				FB.ui({
					method: 'share',
					href: 'http://sinya.github.io/sp2015s_fbapi_test/index.html',
					}, function (response) {});


				FB.ui({
					method: 'send',
					link: 'http://sinya.github.io/sp2015s_fbapi_test/index.html',
					});


				FB.api('/me/picture?type=normal', function(response) { // normal/large/square 
						var str="<img src="+ response.data.url +">";
						$('body').append(str);
						});


				FB.api('/me/photos', 'post', {
										name:"test",
										message: 'this is parse photo',
										url: "https://media.licdn.com/mpr/mpr/shrink_120_120/p/6/005/038/092/145ffc7.jpg"//如果要init運行只能用絕對絕對路徑
									}, function (response) {
										if (!response || response.error) {
											alert('Error occured:' + response);
											console.log(response);
										} else {
											alert('Post ID: ' + response.id);
										}
									});



			

			} 

			else if (response.status === 'not_authorized') {
		
				console.log("this user is not authorizied your apps");
				FB.login(function (response) {
						// FB.api('/me/feed', 'post', {message: 'I\'m started using FB API'});
						if (response.authResponse) { // if user login to your apps right after handle an event
						window.location.reload();
						};
						}, {
				scope: 'user_about_me,email,user_location,user_photos,publish_actions,user_birthday,user_likes'
				});
				} else {
					console.log("this isn't logged in to Facebook.");
					FB.login(function (response) {
							if (response.authResponse) {
							window.location.reload();
							} else {
							//alertify.alert('An Error has Occurs,Please Reload your Pages');
							}
							});
				}
			});

		}; 

	(function (d, s, id) {
		var js, fjs = d.getElementsByTagName(s)[0];
			if (d.getElementById(id)) {
			return;
		}
		js = d.createElement(s);
		js.id = id;
		js.src = "//connect.facebook.net/en_US/sdk.js";
		fjs.parentNode.insertBefore(js, fjs);
		}
		(document, 'script', 'facebook-jssdk'));
	
	</script>

</html>
